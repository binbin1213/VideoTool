# VideoTool v1.3.0 - 电影级字幕样式系统 🎬

> 发布日期：2025-11-03

---

## 🎯 核心更新

### ✨ 电影级字幕样式系统 (v3.0)

全新设计的 **Netflix/Disney+ 风格**字幕样式，为您的视频带来专业的观影体验！

#### 视觉效果升级
- 🎨 **微黄白色主题** (`#F0FFFE`) - 温暖柔和，长时间观看不刺眼
- ✨ **精致阴影效果** - 3pt 深度阴影，立体感更强
- 📏 **优化字体间距** - 2pt 间距，阅读更舒适
- 📐 **精细描边** - 0.5pt 细描边，不抢眼但清晰可辨

#### 分辨率适配
- ✅ **1080p 完美适配** - 字号 72pt，边距 30px
- ✅ **4K 完美适配** - 参数等比放大，视觉效果一致

---

### 🤖 智能注释处理

全新的智能识别技术，自动美化字幕中的注释内容！

#### 自动识别
系统会自动检测 `（注：xxx）` 格式的注释，并应用专属样式：
- 📝 **字号自动缩小** - 55pt (1080p) / 110pt (4K)
- 🎨 **浅灰色显示** - `#CCCCCC`，与正文区分
- 💫 **斜体效果** - 优雅的注释标识
- 📍 **位置微调** - 避免与正文重叠

#### 智能处理
- ✅ 支持全角和半角括号 `（）` `()`
- ✅ 支持全角和半角冒号 `：` `:`
- ✅ 正确处理混合内容（注释+正文）
- ✅ 前后端转换逻辑完全同步

#### 示例效果
```
原始字幕：
都说首尔是一眨眼（注：一不小心就会吃亏）鼻子就会被割走的地方

显示效果：
都说首尔是一眨眼（注：一不小心就会吃亏）鼻子就会被割走的地方
                  ↑灰色、斜体、小字号↑
```

---

## 📋 样式模板更新

### 1080p 模板 (`subtitle-styles.template.ass`)
- 🔄 样式系列重命名：`译文字幕` → `电影字幕`
- ➕ 新增注释样式：`电影字幕 注释底部` / `电影字幕 注释顶部`
- 🎨 全面更新为电影级参数

### 4K 模板 (`subtitle-styles.template.4k.ass`)
- 🔄 同步更新所有样式
- 📐 参数按比例放大（Outline x2, Shadow x2, MarginV x2）
- ✅ 保持与 1080p 视觉效果一致

---

## 🔧 技术改进

### 代码优化
- ✅ 前端 `subtitleConverter.ts` - 新增 `applyAnnotationStyles()` 函数
- ✅ 后端 `ASSGenerator.ts` - 集成注释处理逻辑
- ✅ 前后端逻辑保持一致，确保转换结果统一
- ✅ 修复 TypeScript 类型检查警告

### 正则表达式
```regex
/([（(]注[：:][^）)]+[）)])/g
```
- 灵活匹配中英文标点
- 精确提取注释内容
- 智能添加重置标签

---

## 📦 安装说明

### macOS
1. 下载 `VideoTool-1.3.0-arm64.dmg` (Apple Silicon) 或 `VideoTool-1.3.0-x64.dmg` (Intel)
2. 打开 DMG 文件
3. 将 VideoTool 拖入 Applications 文件夹
4. 首次运行可能需要在"系统偏好设置 → 安全性与隐私"中允许

### Windows
1. 下载 `VideoTool-Setup-1.3.0.exe` (安装版) 或 `VideoTool-1.3.0-Portable.exe` (便携版)
2. 运行安装程序
3. 按照向导完成安装

---

## 🎯 影响范围

本次更新影响以下功能：
- ✅ SRT → ASS 字幕转换
- ✅ 字幕样式模板应用
- ✅ 1080p 和 4K 分辨率支持
- ✅ 字幕预览效果

---

## 📖 使用指南

### 如何使用电影级样式
1. 打开字幕转换功能
2. 选择 SRT 文件
3. 在样式选择中选择 **"电影字幕 底部"** 或 **"电影字幕 顶部"**
4. 转换即可自动应用电影级样式

### 如何添加注释
在字幕文本中使用以下格式：
```
普通字幕文本（注：这里是注释内容）继续正文
```

系统会自动识别并美化注释部分！

---

## 🐛 已修复问题

- 修复样式名称不一致导致的字幕不显示问题
- 修复颜色格式错误
- 修复 TypeScript 未使用参数警告

---

## 📄 完整更新日志

查看 [CHANGELOG.md](./CHANGELOG.md) 获取详细更新记录。

---

## 🙏 致谢

感谢所有用户的反馈和建议！

---

## 📞 反馈渠道

- 🐛 **问题报告**：[GitHub Issues](https://github.com/binbin1213/VideoTool/issues)
- 💡 **功能建议**：[GitHub Discussions](https://github.com/binbin1213/VideoTool/discussions)

---

**享受全新的电影级字幕体验！** 🎬✨

